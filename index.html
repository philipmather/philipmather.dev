<!DOCTYPE html>
<html>
  <head>
    <title>Spheres</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <style>
      html, body, #map-canvas {height: 100%; margin: 0px; padding: 0px; overflow: hidden}
    </style>

    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
    <!--[if IE]><script type="text/javascript" src="js/excanvas.js"></script><![endif]-->
    <script src="js/jquery.knob.js"></script>
    
    <script>
      $(function($) {
        $(".knob").knob({
          change : function (value) {
            //console.log("change : " + value);
          },
          release : function (value) {
            //console.log(this.$.attr('value'));
            //console.log("release : " + value);
          },
          cancel : function () {
            //console.log("cancel : ", this);
          },
          draw : function () {
            // "tron" case
            if(this.$.data('skin') == 'tron') {
              var a = this.angle(this.cv)  // Angle
               , sa = this.startAngle      // Previous start angle
               , sat = this.startAngle     // Start angle
               , ea                        // Previous end angle
               , eat = sat + a             // End angle
               , r = 1;

              this.g.lineWidth = this.lineWidth;
              this.o.cursor && (sat = eat - 0.3) && (eat = eat + 0.3);

              if (this.o.displayPrevious) {
                ea = this.startAngle + this.angle(this.v);
                this.o.cursor && (sa = ea - 0.3) && (ea = ea + 0.3);
                this.g.beginPath();
                this.g.strokeStyle = this.pColor;
                this.g.arc(this.xy, this.xy, this.radius - this.lineWidth, sa, ea, false);
                this.g.stroke();
              }

              this.g.beginPath();
              this.g.strokeStyle = r ? this.o.fgColor : this.fgColor ;
              this.g.arc(this.xy, this.xy, this.radius - this.lineWidth, sat, eat, false);
              this.g.stroke();

              this.g.lineWidth = 2;
              this.g.beginPath();
              this.g.strokeStyle = this.o.fgColor;
              this.g.arc( this.xy, this.xy, this.radius - this.lineWidth + 1 + this.lineWidth * 2 / 3, 0, 2 * Math.PI, false);
              this.g.stroke();

              return false;
            }
          }
        });
      });
    </script>
    <script>

      // The TimeControl
      // Define a property to hold the Time state
//      TimeControl.prototype.time_ = null;

      // Define setters and getters for this property
//      TimeControl.prototype.getTime = function() {return this.time_;}
//      TimeControl.prototype.setTime = function(time) {this.time_ = time;}

      /** @constructor */
//      function HomeControl(controlDiv, map, home) {
        // We set up a variable for this since we're adding event listeners later.
//        var control = this;

        // Set the time property upon construction
//        control.time_ = time;

        // Set CSS styles for the DIV containing the control, setting padding to 5px offsets the control from the edge
//        controlDiv.style.padding = '5px';

        // Set CSS for the control border
//        var theTimeUI = document.createElement('div');
//        theTimeUI.style.backgroundColor = 'white';
//        goHomeUI.style.borderStyle = 'solid';
//        goHomeUI.style.borderWidth = '2px';
//        goHomeUI.style.cursor = 'pointer';
//        goHomeUI.style.textAlign = 'center';
//        goHomeUI.title = 'Click to set the map to Home';
//        controlDiv.appendChild(goHomeUI);

        // Set CSS for the control interior
//        var goHomeText = document.createElement('div');
//        goHomeText.style.fontFamily = 'Arial,sans-serif';
//        goHomeText.style.fontSize = '12px';
//        goHomeText.style.paddingLeft = '4px';
//        goHomeText.style.paddingRight = '4px';
//        goHomeText.innerHTML = '<b>Home</b>';
//        goHomeUI.appendChild(goHomeText);

        // Set CSS for the setHome control border
//        var setHomeUI = document.createElement('div');
//        setHomeUI.style.backgroundColor = 'white';
//        setHomeUI.style.borderStyle = 'solid';
//        setHomeUI.style.borderWidth = '2px';
//        setHomeUI.style.cursor = 'pointer';
//        setHomeUI.style.textAlign = 'center';
//        setHomeUI.title = 'Click to set Home to the current center';
//        controlDiv.appendChild(setHomeUI);

        // Set CSS for the control interior
//        var setHomeText = document.createElement('div');
//        setHomeText.style.fontFamily = 'Arial,sans-serif';
//        setHomeText.style.fontSize = '12px';
//        setHomeText.style.paddingLeft = '4px';
//        setHomeText.style.paddingRight = '4px';
//        setHomeText.innerHTML = '<b>Set Home</b>';
//        setHomeUI.appendChild(setHomeText);

        // Setup the click event listener for Home: simply set the map to the control's current home property.
//        google.maps.event.addDomListener(
//          goHomeUI, 'click', function() {
//            var currentHome = control.getHome();
//            map.setCenter(currentHome);
//          }
//        );

        // Setup the click event listener for Set Home:
        // Set the control's home to the current Map center.
//        google.maps.event.addDomListener(setHomeUI, 'click', function() {
//          var newHome = map.getCenter();
//          control.setHome(newHome);
//        });
//      }

      function initialize() {
        var panoramaOptions = {
          pano: "Ln03XQr9bXMAAAAGOq9Pog",
          pov: {heading: 153, pitch: -2},
          zoom: 1,
          addressControl: false,
          zoomControl: true,
          zoomControlOptions: {style: google.maps.ZoomControlStyle.SMALL}
        };

        var myPhotoSphere = new google.maps.StreetViewPanorama(document.getElementById('map-canvas'), panoramaOptions);

        // Create the DIV to hold the control and call the HomeControl() constructor passing in this DIV.
        //var homeControlDiv = document.createElement('div');
        //var homeControl = new HomeControl(homeControlDiv, map, chicago);

        //homeControlDiv.index = 1;
        var timeControl = document.getElementById('time-control');
        timeControl.index = 1;

        myPhotoSphere.controls[google.maps.ControlPosition.TOP_RIGHT].push(timeControlDiv);
      }

      google.maps.event.addDomListener(window, 'load', initialize);
    </script>
  </head>
  <body>
    <script>
      function clock() {
        var curDate = new Date(),
            $s = $(".second"),
            $m = $(".minute"),
            $h = $(".hour"),
            $d = $(".day"),
            $o = $(".month"),
            $y = $(".year"),
            s = curDate.getSeconds(),
            m = curDate.getMinutes(),
            h = curDate.getHours(),
            d = curDate.getDay(),
            o = curDate.getMonth(),
            y = curDate.getYear();
        
        $s.val(s).trigger("change");
        $m.val(m).trigger("change");
        $h.val(h).trigger("change");
        $d.val(d).trigger("change");
        $o.val(o).trigger("change");
        $y.val(o).trigger("change");
        
        setTimeout("clock()", 1000);
      }
      clock();
      
      //multiplier for thicness 1.4 from 0.5
    </script>
  
    <div id="time-control" class="demo" style="color:#EEE;background:#222;height:420px;width:100%">
      <div style="position:relative;width:350px;margin:auto">

        <div style="position:absolute;left:0px;top:0px">
          <input class="knob year"   data-bgColor="#333" data-fgColor="#F00" data-displayInput=false
              data-min="0" data-max="60" data-width="120" data-height="120" data-thickness=".1">
        </div>
        
        <div style="position:absolute;left:8px;top:8px">
          <input class="knob month"  data-bgColor="#333" data-fgColor="#0F0" data-displayInput=false
              data-min="1" data-max="12" data-width="108" data-height="108" data-thickness=".1">
        </div>

        <div style="position:absolute;left:16px;top:16px">
          <input class="knob day"    data-bgColor="#333" data-fgColor="#00F" data-displayInput=false
              data-min="1" data-max="32" data-width="96" data-height="96" data-thickness=".1">
        </div>
        
        <div style="position:absolute;left:24px;top:24px">
          <input class="knob hour"   data-bgColor="#333" data-fgColor="#F00" data-displayInput=false
              data-min="0" data-max="24" data-width="84" data-height="84" data-thickness=".1">
        </div>
        
        <div style="position:absolute;left:32px;top:32px">
          <input class="knob minute" data-bgColor="#333" data-fgColor="#0F0" data-displayInput=false
              data-min="0" data-max="60" data-width="72" data-height="72" data-thickness=".1">
        </div>
        
        <div style="position:absolute;left:40px;top:40px">
          <input class="knob second" data-bgColor="#333" data-fgColor="#00F" data-displayInput=false
              data-min="0" data-max="60" data-width="60" data-height="60" data-thickness=".1">
        </div>
      </div>
    </div>

    <div id="map-canvas"></div>
  </body>
</html>
